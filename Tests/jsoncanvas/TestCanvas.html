<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Canvas Viewer</title>
  <style>
    html, body { margin: 0; height: 100%; }
    #canvas-viewer { width: 100%; height: 100%; }
  </style>

  <!-- Map bare imports to CDNs so the browser can resolve them without bundling -->
  <script type="importmap">
  {
    "imports": {
      "marked": "https://esm.sh/marked@12"
    }
  }
  </script>
</head>
<body>
  <div id="canvas-viewer"></div>

  <script type="module">
    import { JSONCanvasViewer } from "./es/index.js";

    const viewer = new JSONCanvasViewer("#canvas-viewer", {
      readOnly: true,
      zoom: { min: 0.1, max: 4, initial: 1 },
      pan: { enabled: true },
      respectNodeStyles: true,
      respectEdgeStyles: true,
      showGroups: true,
      smoothSplines: true
    });

    fetch("./TestCanvas.canvas")
      .then(res => res.json())
      .then(data => viewer.load(data))
      .catch(err => {
        console.error("Failed to load canvas:", err);
        document.getElementById("canvas-viewer").textContent = "Failed to load canvas.";
      });
  </script>
</body>
</html>
